scre facture

temporary t_cieclemnu character size 4 reset at startup
temporary t_facnum    integer   size 4 reset at startup
temporary t_nbrfac    integer   size 4 reset at startup

file mccompagnie primary

file pdfacture designer
  select if ftrdatfac of pdfacture >= 19971101 and &
            ftrdatfac of pdfacture <= 20000229

field ciecle of mccompagnie
field cienom of mccompagnie

procedure internal i_fac
begin
  if accessok
  then begin
    info = "facture: " + ascii(ftrnumfac of pdfacture,7) &
         + "  date: "  + ascii(ftrdatfac of pdfacture,8) &
         + "  (" + ascii(t_nbrfac,7) + ")" now

    run screen xfac001 passing t_cieclemnu, t_facnum mode e

    let t_nbrfac = t_nbrfac + 1
  end
  
  let t_facnum = t_facnum + 1

  get pdfacture via ciecle, ftrnumfac using t_cieclemnu, t_facnum  optional

  if t_facnum < 7094
  then do internal i_fac
end

procedure designer fac
begin
  let t_cieclemnu = "2000"
  let t_facnum    = 10
  let t_nbrfac    = 1

  get pdfacture via ciecle, ftrnumfac using t_cieclemnu, t_facnum  optional

  do internal i_fac
end

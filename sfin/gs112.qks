;/T/ Consultation Code de D'impression     XIMCLE
;
;/P/ Programmeur..: Chantal Martineau
;    Date Création: 18-septembre-1992
;
;    Description..: Permet de visionner et de choisir Code d'impression
;

;/V/ Écran vérifier pour le passage à l'an 2000

;
SCREEN gs112 NOMODE NOACTION FIELDMARK &
             FROM 11,40 TO 23,80 &
             ACTIVITIES FIND &
             RECEIVING T_XIMCOD

USE gs112.hlp NOLIST
USE ussectmp NOLIST
"GS112"

TEMPORARY T_XIMCOD    CHARACTER SIZE 4 RESET AT STARTUP

;-------------------------------------------------------------------------------
; Recherche de la langue de l'usager
;
FILE GSUSAGER REFERENCE
  ACCESS VIA USRCLE USING LOGONID


FILE GSIMPRIMANTE PRIMARY OCCURS 11
 ACCESS VIA XIMCOD USING T_XIMCOD

DEFINE D_XIMDSC CHARACTER SIZE 20 = &
@IF FRANCAIS
        XIMDSCFRA OF GSIMPRIMANTE
@ELSE
        XIMDSCANG OF GSIMPRIMANTE
@ENDIF

USE ushilite NOLIST
USE usdrwfnd NOLIST

@IF FRANCAIS
 TITLE " Consultation des code Imprimante " CENTERED AT 1,1
@ELSE
 TITLE " %%% " CENTERED AT 1,1
@ENDIF

USE ustitoff NOLIST

ALIGN(3,3,6)(,,13)

CLUSTER OCCURS WITH GSIMPRIMANTE

FIELD XIMCOD    OF GSIMPRIMANTE HIDDEN LABEL ">>"
FIELD D_XIMDSC DISPLAY

CLUSTER

;
;
; Valide la sécurité d'accès pour l'écran par son code.
;
;
PROCEDURE INITIALIZE
BEGIN
  USE ussececr NOLIST
END

PROCEDURE EXIT
BEGIN
  IF 0 <> IND(T_XIMCOD, "@")
  THEN LET T_XIMCOD = ""
END

PROCEDURE DESIGNER 1
BEGIN
  LET T_XIMCOD = XIMCOD OF GSIMPRIMANTE
  RETURN
END

BUILD

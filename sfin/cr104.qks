;/T/ Cons. termes d'encaissement       TMECLE, TMECAT
;
;/P/ Programmeur..: Alain Côté
;    Date Création: 17 mai 1993
;
;    Description..: Permet de visionner et de choisir un terme d'encaissement
;

;/V/ Écran vérifier pour le passage à l'an 2000

;
SCREEN cr104 NOMODE NOACTION FIELDMARK &
             FROM 11,40 TO 23,80 &
             ACTIVITIES FIND &
             RECEIVING T_TMECLE, &
                       T_TMECATPAT


TEMPORARY T_TMECLE    CHARACTER SIZE 4
TEMPORARY T_TMECATPAT CHARACTER SIZE 11

;-------------------------------------------------------------------------------
;
FILE VTME_DSC         PRIMARY &
                      OCCURS 11
 ACCESS VIA TMECLE &
        USING T_TMECLE &
        ORDERBY TMECLE
 SELECT IF MATCHPATTERN( TMECAT OF VTME_DSC, TRUNCATE( T_TMECATPAT ) )

;-------------------------------------------------------------------------------
;
USE ushilite NOLIST
USE usdrwfnd NOLIST

USE ustitoff NOLIST

SKIP TO 2

ALIGN(3,3,6)(,,13)(,,34)

CLUSTER OCCURS WITH VTME_DSC

FIELD TMECLE    OF VTME_DSC HIDDEN LABEL ">>"
FIELD TMEDSCABR OF VTME_DSC DISPLAY
FIELD TMECAT    OF VTME_DSC DISPLAY

CLUSTER


;-------------------------------------------------------------------------------
;
;
; Enleve le @ si l'usager fait aucun choix à l'écran.
;
;
PROCEDURE EXIT
BEGIN
  IF 0 <> IND(T_TMECLE, "@")
  THEN LET T_TMECLE = ""
END


;-------------------------------------------------------------------------------
;
;
PROCEDURE DESIGNER 1
BEGIN
  LET T_TMECLE = TMECLE OF VTME_DSC
  RETURN
END

BUILD

;                                       *****************************************
;                                       * >> xxxx   xxxxxxxxxxxxxxxxxxxx xxx    *
;                                       * >> xxxx   xxxxxxxxxxxxxxxxxxxx xxx    *
;                                       * >> xxxx   xxxxxxxxxxxxxxxxxxxx xxx    *
;                                       * >> xxxx   xxxxxxxxxxxxxxxxxxxx xxx    *
;                                       * >> xxxx   xxxxxxxxxxxxxxxxxxxx xxx    *
;                                       * >> xxxx   xxxxxxxxxxxxxxxxxxxx xxx    *
;                                       * >> xxxx   xxxxxxxxxxxxxxxxxxxx xxx    *
;                                       * >> xxxx   xxxxxxxxxxxxxxxxxxxx xxx    *
;                                       * >> xxxx   xxxxxxxxxxxxxxxxxxxx xxx    *
;                                       * >> xxxx   xxxxxxxxxxxxxxxxxxxx xxx    *
;                                       * >> xxxx   xxxxxxxxxxxxxxxxxxxx xxx    *
;                                       *****************************************

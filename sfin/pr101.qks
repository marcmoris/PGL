;/T/ Consultation des projets          CIECLE, PROCLE, PROSTUPAT
;
;/P/ Programmeur..: Alain Côté
;    Date création: 13 avril 1993
;
;    Paramètres...: CIECLE    ==> - numéro de compagnie
;                                 - segment de la clé de recherche
;
;                   PROCLE    ==> - numéro de projet
;                                 - segment de la clé de recherche
;                                 - peut contenir la valeur @
;                                 - contient la valeur de retour
;
;                   PROSTUPAT ==> - Statut de projet
;                                 - critère de sélection sous la forme
;                                   de pattern.
;
;-------------------------------------------------------------------------------

;/V/ Écran vérifier pour le passage à l'an 2000


SCREEN pr101 NOMODE NOACTION FIELDMARK &
             FROM 11,40 TO 23,80 &
             ACTIVITIES FIND &
             RECEIVING T_CIECLEMNU, &
                       T_PROCLE   , &
                       T_PROSTUPAT

TEMPORARY T_CIECLEMNU CHARACTER SIZE 4
TEMPORARY T_PROCLE    CHARACTER SIZE 8
TEMPORARY T_PROSTUPAT CHARACTER SIZE 8

USE pr101.hlp NOLIST

;-------------------------------------------------------------------------------
;
FILE GPPROJET         PRIMARY &
                      OCCURS 11
  ACCESS VIA CIECLE, &
             PROCLE  &
         USING T_CIECLEMNU, &
               T_PROCLE &
         ORDERBY PROCLE

  SELECT IF &
    MATCHPATTERN(PROSTU OF GPPROJET, TRUNCATE(T_PROSTUPAT))

;-------------------------------------------------------------------------------
;
USE ushilite NOLIST
USE usdrwfnd NOLIST

USE ustitoff NOLIST

SKIP TO 2

ALIGN (3,3,6)(,,15)
CLUSTER OCCURS WITH GPPROJET

FIELD PROCLE    OF GPPROJET HIDDEN LABEL ">>"
FIELD PRODSC    OF GPPROJET DISPLAY SIZE 20

CLUSTER


;-------------------------------------------------------------------------------
;
;
PROCEDURE DESIGNER 1
BEGIN
  LET T_PROCLE = PROCLE OF GPPROJET
  RETURN
END

;-------------------------------------------------------------------------------
;
;
PROCEDURE EXIT
BEGIN
  IF 0 <> INDEX(T_PROCLE, "@")
  THEN LET T_PROCLE = ""
END

BUILD ;
;
;                                       *****************************************
;                                       * >> xxxxxxxx xxxxxxxxxxxxxxxxxxxxxxxxx    *
;                                       * >> xxxxxxxx xxxxxxxxxxxxxxxxxxxxxxxxx    *
;                                       * >> xxxxxxxx xxxxxxxxxxxxxxxxxxxxxxxxx    *
;                                       * >> xxxxxxxx xxxxxxxxxxxxxxxxxxxxxxxxx    *
;                                       * >> xxxxxxxx xxxxxxxxxxxxxxxxxxxxxxxxx    *
;                                       * >> xxxxxxxx xxxxxxxxxxxxxxxxxxxxxxxxx    *
;                                       * >> xxxxxxxx xxxxxxxxxxxxxxxxxxxxxxxxx    *
;                                       * >> xxxxxxxx xxxxxxxxxxxxxxxxxxxxxxxxx    *
;                                       * >> xxxxxxxx xxxxxxxxxxxxxxxxxxxxxxxxx    *
;                                       * >> xxxxxxxx xxxxxxxxxxxxxxxxxxxxxxxxx    *
;                                       * >> xxxxxxxx xxxxxxxxxxxxxxxxxxxxxxxxx    *
;                                       *****************************************
;
;
;
;
;
;
;
;
;
;

;/T/ Menu Informations de base
;
;/P/ Steeve Duguay
;

;/V/ Écran vérifier pour le passage à l'an 2000


SCREEN gpm03 MENU &
             HELP POPUP FROM 4,9 TO 20,72 &
             NOMODE NOACTION FIELDMARK RETAIN STARTUP &
             RECEIVING T_CIECLEMNU, &
                       T_CIENOM

USE ussectmp NOLIST
    "GPM03"

USE gpm03.hlp NOLIST


;-------------------------------------------------------------------------------
;
; Pour avoir le nom du Holding.
;
FILE MCCOMPAGNIE      REFERENCE
  ACCESS VIA    CIENMC &
         USING  "1"

TEMPORARY T_CIECLEMNU CHARACTER SIZE 4
TEMPORARY T_CIENOM    CHARACTER SIZE 40

TEMPORARY T_CIECLEHLD CHARACTER SIZE 4  ; Numéro de cie du holding
TEMPORARY T_CIENOMHLD CHARACTER SIZE 40 ; Nom du holding

;
; Pour centrer le nom de la compagnie.
;
DEFINE D_CIENOM   CHARACTER SIZE 40 = CENTER(T_CIENOM)
;
; Code du module pour l'écran des périodes.
;
TEMPORARY T_MODCLE    CHARACTER SIZE 2 INIT "GP"

;-------------------------------------------------------------------------------
;
USE ushilite NOLIST

DRAW 1,19 TO 3,61
DRAW 2,1  TO 2,19
DRAW 2,61 TO 2,80

DRAW 2,1  TO 5,1
DRAW 5,1  TO 5,80
DRAW 2,80 TO 5,80

TITLE &
@IF FRANCAIS
      "I N F O R M A T I O N S   D E   B A S E" &
@ELSE
      "B A S I C   I N F O R M A T I O N" &
@ENDIF
      CENTERED AT 2,1

USE ustitoff NOLIST

SKIP 1

ALIGN(,,21)

FIELD D_CIENOM FIXED

SKIP TO 8

DRAW 07,25 TO 21,55

ALIGN (27,27)


SUBSCREEN gp150 HIDDEN &
                PASSING T_CIECLEMNU, &
                        T_CIENOM     &
@IF FRANCAIS
                LABEL "Catégories de projets     "
@ELSE
                LABEL "%%%%"
@ENDIF

SKIP

DRAW ,25 TO ,55

SKIP 1

SUBSCREEN gp151 HIDDEN &
                PASSING T_CIECLEMNU, &
                        T_CIENOM     &
@IF FRANCAIS
                LABEL "Types de cargaisons       "
@ELSE
                LABEL "%%%%"
@ENDIF

SKIP

DRAW ,25 TO ,55

SKIP 1


SUBSCREEN gp152 HIDDEN &
                PASSING T_CIECLEMNU, &
                        T_CIENOM      &
                MODE F                &
@IF FRANCAIS
                LABEL "Responsables de projets"
@ELSE
                LABEL "%%%%"
@ENDIF

SKIP

DRAW ,25 TO ,55

SKIP 1

SUBSCREEN gp153 HIDDEN &
                PASSING T_CIECLEMNU, &
                        T_CIENOM     &
@IF FRANCAIS
                LABEL "Unités de mesures         "
@ELSE
                LABEL "%%%%"
@ENDIF

SKIP

DRAW ,25 TO ,55

SKIP 1

SUBSCREEN gp154 HIDDEN &
                PASSING T_CIECLEMNU, &
                        T_CIENOM     &
@IF FRANCAIS
                LABEL "Types d'unités de travail "
@ELSE
                LABEL "%%%%"
@ENDIF

SKIP

DRAW ,25 TO ,55

SKIP 1

SUBSCREEN gp155 HIDDEN &
                PASSING T_CIECLEMNU, &
                        T_CIENOM     &
@IF FRANCAIS
                LABEL "Unités de travail         "
@ELSE
                LABEL "%%%%"
@ENDIF

SKIP

DRAW ,25 TO ,55

SKIP 1

SUBSCREEN gp156 HIDDEN &
                PASSING T_CIECLEMNU, &
                        T_CIENOM     &
@IF FRANCAIS
                LABEL "Format de présentation    "
@ELSE
                LABEL "%%%%"
@ENDIF

SKIP

DRAW ,25 TO ,55


;-------------------------------------------------------------------------------
;
;
; Valide la sécurité d'accès de l'écran.
;
;
PROCEDURE INITIALIZE
BEGIN
  USE ussececr NOLIST
  ;
  ; On conserve le nom du Holding pour les écrans, dont l'informations
  ; est seulement sur le Holding, c-a-d que la compagnie du menu n'est pas
  ; dans la clé. Comme par exemple les catégories de projet.
  ;
  LET T_CIECLEHLD = CIECLE OF MCCOMPAGNIE
  LET T_CIENOMHLD = CIENOM OF MCCOMPAGNIE
END

BUILD

@IF FORMAT
                  *******************************************
******************* I N F O R M A T I O N S   D E   B A S E ********************
*                 *******************************************                  *
*                   xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx                   *
********************************************************************************

                        *******************************
                        * Catégorie de projet         *
                        *******************************
                        * Types de cargaisons         *
                        *******************************
                        * Responsables de projets     *
                        *******************************
                        * Unités de mesures           *
                        *******************************
                        * Type d'unités de travail    *
                        *******************************
                        * Unités de travail           *
                        *******************************
                        * Format de présentation      *
                        *******************************

@ENDIF

;/T/ Consultation de l'abréviation du projet
;
;/P/ Programmeur..: Francois Richard
;    Date Creation: 8 octobre 1999
;
;    Description..: Permet de visionner et de l'Abréviation d'un projet
;
;    Parametres...: T_CIECLE        = Compagnie
;                   T_PJTABR        = Abréviation projet
;
;-------------------------------------------------------------------------------

SCREEN if109 NOMODE NOACTION FIELDMARK &
             FROM 11,40 TO 23,80 &
             ACTIVITIES FIND &
             RECEIVING  T_CIECLE, &
                        T_PJTABR


USE ustrasse NOLIST

USE ussectmp NOLIST
    "IF109"

;USE if109.hlp NOLIST

;-------------------------------------------------------------------------------

TEMPORARY T_CIECLE    CHARACTER SIZE 4 RESET AT STARTUP
TEMPORARY T_PJTABR    CHARACTER SIZE 2 RESET AT STARTUP

;-------------------------------------------------------------------------------

FILE PDPROJET PRIMARY OCCURS 10

  ACCESS  VIA     CIECLE,     &
                  PJTABR      &
          USING   T_CIECLE,   &
                  T_PJTABR    &
          ORDERBY PJTABR

;-------------------------------------------------------------------------------

USE ushilite NOLIST
USE usdrwfnd NOLIST

USE ustitoff NOLIST

SKIP 1

TITLE "Abrv" AT ,5
TITLE "Description" AT ,11

SKIP

ALIGN (2,2,6) (,,11)

CLUSTER OCCURS WITH PDPROJET

FIELD PJTABR OF PDPROJET  &
      DISPLAY             &
      HIDDEN              &
      LABEL ">>"

FIELD PJTNOM OF PDPROJET  &
      SIZE 28             &
      DISPLAY

CLUSTER

;-------------------------------------------------------------------------------
;
; Valide la sécurité d'accès pour l'écran par son code.
;
;
PROCEDURE INITIALIZE
BEGIN
  USE ussececr NOLIST
END

PROCEDURE EXIT
BEGIN
  IF 0 <> IND(T_PJTABR, "@")
  THEN LET T_PJTABR = ""
END

PROCEDURE DESIGNER 1
BEGIN
  LET T_PJTABR = PJTABR OF PDPROJET
  RETURN
END

BUILD

;/T/ Cons. des compagnies(Sécurité)    CIECLE
;
;/P/ Programmeur..: Alain Côté
;    Date Création: 1 avril 1993
;
;    Description..: Permet de visionner et de choisir une compagnie selon
;                   la sécurité DATA.
;
;    Paramètre....: CIECLE ==> - Numéro de compagnie.
;                              - segment de la clé de recherche.(@)
;                              - contient la valeur de retour
;
;-------------------------------------------------------------------------------

;/V/ Écran vérifier pour le passage à l'an 2000


SCREEN mc106 NOMODE NOACTION FIELDMARK &
             FROM 11,40 TO 23,80 &
             HELP POPUP FROM 4,9 TO 20,72 &
             ACTIVITIES FIND &
             RECEIVING T_CIECLE

TEMPORARY T_CIECLE CHARACTER SIZE 4

USE mc106.hlp NOLIST

;-------------------------------------------------------------------------------
;
FILE VSEC_USR         PRIMARY OCCURS 11
  ACCESS VIA   CIECLE &
         USING T_CIECLE &
         ORDERED

;-------------------------------------------------------------------------------
;
USE ushilite NOLIST
USE usdrwfnd NOLIST

USE ustitoff NOLIST

SKIP TO 2

ALIGN(3,3,6)(,,12)

CLUSTER OCCURS WITH VSEC_USR

FIELD CIECLE    OF VSEC_USR HIDDEN LABEL ">>"
FIELD CIENOMABR OF VSEC_USR

CLUSTER

;-------------------------------------------------------------------------------
;
;
PROCEDURE EXIT
BEGIN
  IF 0 <> IND(T_CIECLE, "@")
  THEN LET T_CIECLE = ""
END

;-------------------------------------------------------------------------------
;
;
PROCEDURE DESIGNER 1
BEGIN
  LET T_CIECLE = CIECLE OF VSEC_USR
  RETURN
END

BUILD ;
;                                       *****************************************
;                                       * >> xxxx  xxxxxxxxxxxxxxxxxxxx         *
;                                       * >> xxxx  xxxxxxxxxxxxxxxxxxxx         *
;                                       * >> xxxx  xxxxxxxxxxxxxxxxxxxx         *
;                                       * >> xxxx  xxxxxxxxxxxxxxxxxxxx         *
;                                       * >> xxxx  xxxxxxxxxxxxxxxxxxxx         *
;                                       * >> xxxx  xxxxxxxxxxxxxxxxxxxx         *
;                                       * >> xxxx  xxxxxxxxxxxxxxxxxxxx         *
;                                       * >> xxxx  xxxxxxxxxxxxxxxxxxxx         *
;                                       * >> xxxx  xxxxxxxxxxxxxxxxxxxx         *
;                                       * >> xxxx  xxxxxxxxxxxxxxxxxxxx         *
;                                       * >> xxxx  xxxxxxxxxxxxxxxxxxxx         *
;                                       *****************************************

;/T/ Menu Informations de base
;
;/P/ Programmeur..: Alain Côté
;    Date Création: 17 mai 1993
;
;    Description..: Informations de base du module des Comptes à recevoir.
;
;/M/ Adatation....: Marc Morissette
;
;    Description..: Ajout de sous ecran
;
;/M/ Marie-Josée Hamel, 96.02.13, modifier le titre de l'écran pour ajouter passerelle
;-------------------------------------------------------------------------------

;/V/ Écran vérifier pour le passage à l'an 2000

;
SCREEN crm02 MENU &
             HELP POPUP FROM 4,9 TO 20,72 &
             NOMODE NOACTION FIELDMARK RETAIN STARTUP &
             RECEIVING T_CIECLEMNU, &
                       T_CIENOM   , &
                       T_PECCLEMNU, &
                       T_PECDATDEB, &
                       T_PECDATFIN

USE ussectmp NOLIST
    "CRM02"

USE crm02.hlp NOLIST


TEMPORARY T_CIECLEMNU CHARACTER SIZE 4
TEMPORARY T_CIENOM    CHARACTER SIZE 40
TEMPORARY T_PECCLEMNU CHARACTER SIZE 4
TEMPORARY T_PECDATDEB DATE
TEMPORARY T_PECDATFIN DATE

;-------------------------------------------------------------------------------
;
; Pour avoir le nom du Holdgin.
;
FILE MCCOMPAGNIE      REFERENCE
  ACCESS VIA CIENMC &
         USING "1"


;-------------------------------------------------------------------------------
;
TEMPORARY T_CIECLEHLD CHARACTER SIZE 4  ; Numéro de cie du holding
TEMPORARY T_CIENOMHLD CHARACTER SIZE 40 ; Nom du holding
;
; Pour centrer le nom de la compagnie.
;
DEFINE D_CIENOM   CHARACTER SIZE 40 = CENTER(T_CIENOM)
;
; Code du module pour l'écran des périodes.
;
TEMPORARY T_MODCLE    CHARACTER SIZE 2 INIT "CR"


;-------------------------------------------------------------------------------
;
USE ushilite NOLIST

DRAW FROM 2,1  TO 2,19
DRAW FROM 2,62 TO 2,80
DRAW FROM 1,19 TO 3,62

DRAW FROM 2,1  TO 5,1
DRAW FROM 5,1  TO 7,80
DRAW FROM 2,80 TO 5,80

DRAW FROM 7,40 TO 21,40

DRAW FROM 21,1 TO 21,80


TITLE &
@IF FRANCAIS
      "I N F O R M A T I O N S   D E   B A S E" &
@ELSE
      "B A S I C   I N F O R M A T I O N" &
@ENDIF
      CENTERED AT 2,1

USE ustitoff NOLIST

SKIP 1

ALIGN(,,21)

FIELD D_CIENOM FIXED


SKIP TO 6

ALIGN(,4,13)(,30,42)(,58,68)
FIELD T_PECCLEMNU FIXED &
@IF FRANCAIS
        LABEL "Période:"
@ELSE
        LABEL "Period.:"
@ENDIF

FIELD T_PECDATDEB FIXED FORMAT YYYYMMDD PATTERN "####/##/##" &
@IF FRANCAIS
        LABEL "Date début:"
@ELSE
        LABEL "Start date:"
@ENDIF

FIELD T_PECDATFIN FIXED FORMAT YYYYMMDD PATTERN "####/##/##" &
@IF FRANCAIS
        LABEL "Date fin:"
@ELSE
        LABEL "End Date:"
@ENDIF

SKIP TO 11
ALIGN (4,4)
SUBSCREEN mc113 HIDDEN &
                PASSING T_CIECLEMNU, &
                        T_CIENOM   , &
                        T_MODCLE     &
                MODE F &
@IF FRANCAIS
                LABEL "Fermeture de périodes      "
@ELSE
                LABEL "Closing period"
@ENDIF

SKIP 1

SUBSCREEN cr152 HIDDEN &
                PASSING T_CIECLEHLD, &
                        T_CIENOMHLD  &
@IF FRANCAIS
                LABEL "Catégories de client       "
@ELSE
                LABEL "Client Categories"
@ENDIF

SKIP 1

SUBSCREEN cr155 HIDDEN &
                PASSING T_CIECLEHLD, &
                        T_CIENOMHLD  &
@IF FRANCAIS
                LABEL "Représentants des clients  "
@ELSE
                LABEL "Client Categories"
@ENDIF

SKIP 1

SUBSCREEN cr153 HIDDEN &
                PASSING T_CIECLEHLD, &
                        T_CIENOMHLD  &
@IF FRANCAIS
                LABEL "Termes d'encaissement      "
@ELSE
                LABEL "Payment Terms"
@ENDIF




SKIP TO 11
ALIGN (44,44)

SUBSCREEN cr154 HIDDEN &
                PASSING T_CIECLEMNU, &
                        T_CIENOM     &
@IF FRANCAIS
                LABEL "Maintenance des intervalles"
@ELSE
                LABEL "%%%Maintenance des intervalles"
@ENDIF

SKIP 1

SUBSCREEN cr151 HIDDEN &
                PASSING T_CIECLEMNU, &
                        T_CIENOM     &
@IF FRANCAIS
                LABEL "Maintenance des paramètres "
@ELSE
                LABEL "%%%Maintenance des paramètres"
@ENDIF

SKIP 1

;SUBSCREEN cr157 HIDDEN &
;                PASSING T_CIECLEHLD, &
;                        T_CIENOMHLD  &
;@IF FRANCAIS
;                LABEL "Msg sur état de compte perm."
;@ELSE
;                LABEL "%%%%%%%%%%%%%"
;@ENDIF
;
;SKIP 1
;
;SUBSCREEN cr158 HIDDEN &
;                PASSING T_CIECLEHLD, &
;                        T_CIENOMHLD  &
;@IF FRANCAIS
;                LABEL "Msg sur état de compte temp."
;@ELSE
;                LABEL "%%%%%%%%%%%%%"
;@ENDIF


SUBSCREEN cr159 HIDDEN &
                PASSING T_CIECLEMNU, &
                        T_CIENOM     &
@IF FRANCAIS
                LABEL "Paramètres des passerelles "
@ELSE
                LABEL "%%%Paramètres des passerelles "
@ENDIF

SKIP 1
SUBSCREEN cr156 HIDDEN &
                PASSING T_CIECLEMNU, &
                        T_CIENOM   , &
                        T_PECCLEMNU &

@IF FRANCAIS
                LABEL "Eléments fact. - passerelle"
@ELSE
                LABEL "%%%%%%%%%%%%%"
@ENDIF

SKIP 1


;-------------------------------------------------------------------------------
;
;
PROCEDURE INITIALIZE
BEGIN
  ;
  ; Valide la sécurité d'accès de l'écran.
  ;
  USE ussececr NOLIST
  ;
  ; On conserve le nom du Holding pour les écrans, dont l'informations
  ; est seulement sur le Holdgin, c-a-d que la compagnie du menu n'est pas
  ; dans la clé. Comme par exemple les catégories de client.
  ;
  LET T_CIECLEHLD = CIECLE OF MCCOMPAGNIE
  LET T_CIENOMHLD = CIENOM OF MCCOMPAGNIE
END

BUILD
@IF FORMAT


                  ********************************************
******************* I N F O R M A T I O N S   D E   B A S E  *******************
*                 ********************************************                 *
*                   xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx                   *
********************************************************************************
*  Période: xxxx             Date début: xxxxxxxx          Date fin: xxxxxxxx  *
********************************************************************************
                                       *
                                       *
                                       *
   Fermeture de périodes               *   Maintenance des intervalles
                                       *
   Catégories de client                *   Maintenance des paramètres
                                       *
   Représentants des clients           *   Paramètres des passerelles
                                       *
   Termes d'encaissement               *   Eléments fact. - passerelle
                                       *
                                       *
                                       *
********************************************************************************
@ENDIF

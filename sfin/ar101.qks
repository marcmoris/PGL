;/T/ Consultation des localisations d'entrepôt CIECLE, ENTCLE, ENLCLE
;
;/P/ Programmeur..: Nancy Marceau
;    Date Création: 3 mars 1994
;
;    Description..: Permet de visionner et de choisir une localisation 
;                   d'entrepôt.
;
;    Paramètre....: CIECLE ==> - compagnie de l'entrepôt
;                              - segment de la clé de recherche.
;
;                   ENTCLE ==> - code de l'entrepôt
;                              - segment de la clé de recherche
; 
;                   ENLCLE ==> - segment de la clé de recherche.
;                              - peut contenir le caractère '@'.
;                              - contient la valeur de retour.
;
;/V/ Écran vérifier pour le passage à l'an 2000


SCREEN ar101 NOMODE NOACTION FIELDMARK &
             FROM 11,40 TO 23,80 &
             HELP POPUP FROM 4,9 TO 20,72 &
             ACTIVITIES FIND &
             RECEIVING  T_CIECLE, &
                        T_ENTCLE, &
                        T_ENLCLE 
                     

USE ustrasse NOLIST

USE ussectmp NOLIST     
    "AR101"

USE ar101.hlp NOLIST

TEMPORARY T_CIECLE CHARACTER SIZE 4 ; Compagnie de l'entrepôt
TEMPORARY T_ENTCLE CHARACTER SIZE 4 ; Code de l'entrepôt
TEMPORARY T_ENLCLE CHARACTER SIZE 5 ; Code de la localisation de l'entrepôt


;-------------------------------------------------------------------------------
;
FILE ARENT_LOCAL   PRIMARY &
                      OCCURS 11

 ACCESS   VIA   CIECLE, &
                ENTCLE, &
                ENLCLE  &
        USING   T_CIECLE, &
                T_ENTCLE, &
                T_ENLCLE  &
        ORDERBY CIECLE , &
                ENTCLE , &
                ENLCLE  
           

;-------------------------------------------------------------------------------
;

USE ushilite NOLIST     
USE usdrwfnd NOLIST     

SKIP 1

USE ustitoff NOLIST           ; Pour placer le TITLE OFF

ALIGN(3,3,6)(,,13)

CLUSTER OCCURS WITH ARENT_LOCAL

FIELD ENLCLE    OF ARENT_LOCAL HIDDEN LABEL ">>"
FIELD ENLDSC    OF ARENT_LOCAL

CLUSTER

;-------------------------------------------------------------------------------
;
; Valide la sécurité d'accès pour l'écran par son code.
;
;
PROCEDURE INITIALIZE
BEGIN
  USE ussececr NOLIST
END

;-------------------------------------------------------------------------------
;
; Enlève le @ si l'usager fait aucun choix à l'écran.
;
;
PROCEDURE EXIT
BEGIN
  IF 0 <> IND(T_ENLCLE, "@")
  THEN LET T_ENLCLE = ""
END

;-------------------------------------------------------------------------------
;
; Retourne la valeur choisie par l'usager.
;
;
PROCEDURE DESIGNER 1
BEGIN
  LET T_ENLCLE = ENLCLE OF ARENT_LOCAL
  RETURN
END

BUILD
@IF FORMAT
                                       *****************************************
                                       * >> xxxxx  xxxxxxxxxxxxxxxxxxxx        *
                                       * >> xxxxx  xxxxxxxxxxxxxxxxxxxx        *
                                       * >> xxxxx  xxxxxxxxxxxxxxxxxxxx        *
                                       * >> xxxxx  xxxxxxxxxxxxxxxxxxxx        *
                                       * >> xxxxx  xxxxxxxxxxxxxxxxxxxx        *
                                       * >> xxxxx  xxxxxxxxxxxxxxxxxxxx        *
                                       * >> xxxxx  xxxxxxxxxxxxxxxxxxxx        *
                                       * >> xxxxx  xxxxxxxxxxxxxxxxxxxx        *
                                       * >> xxxxx  xxxxxxxxxxxxxxxxxxxx        *
                                       * >> xxxxx  xxxxxxxxxxxxxxxxxxxx        *
                                       * >> xxxxx  xxxxxxxxxxxxxxxxxxxx        *
                                       *****************************************
@ENDIF

;/T/ Type de granit - Validation de la destruction
;
;/P/ Programmeur...: Francois Richard
;    Date creation.: 4 octobre 1999
;
;    Description...: Valide la destruction du type de granit
;
;-------------------------------------------------------------------------------

SCREEN pd151x NOMODE &
              ACTION LABEL " " &
              FROM 23,70 TO 23,80 &
              RECEIVING PDTYPE_GRANIT , &
                        T_FLGDEL

;-------------------------------------------------------------------------------
;
TEMPORARY T_FLGDEL CHARACTER SIZE 1 ; Flag de retour.


;-------------------------------------------------------------------------------
;
; Type de granit
;
FILE PDTYPE_GRANIT     MASTER

;-------------------------------------------------------------------------------;
; Bloc
;
FILE IFBLOC DESIGNER

;-------------------------------------------------------------------------------
;
; Diagramme
;
FILE PDDIAGRAMME DESIGNER

;-------------------------------------------------------------------------------
;
; Bloc inventaire
;
FILE INBLOC DESIGNER

;-------------------------------------------------------------------------------
;
; Bloc production
;
FILE PDBLOC DESIGNER

;-------------------------------------------------------------------------------
;
; Commande production
;
FILE PDCOMMEN_PROD DESIGNER

;-------------------------------------------------------------------------------
;
; 
;
FILE PDDEB_DIAGRAMME DESIGNER

;-------------------------------------------------------------------------------
;
; Description de la classe
;
FILE PDDESC_CLASSE DESIGNER

;-------------------------------------------------------------------------------
;
; Detail de la commande
;
FILE PDDETAIL_C_I DESIGNER

;-------------------------------------------------------------------------------
;
; Detail du bon de commande
;
FILE PDDET_BON_COMMAN DESIGNER

;-------------------------------------------------------------------------------
;
; Détail du debitage
;
FILE PDDET_DEBITAGE DESIGNER

;-------------------------------------------------------------------------------
;
; 
;
FILE PDDET_OPER_SURF DESIGNER

;-------------------------------------------------------------------------------
;
; Bloc production
;
FILE PDEMBAL_PROD_DIM DESIGNER

;-------------------------------------------------------------------------------
;
; Classe de granit
;
FILE PDGRANIT_CLASSE DESIGNER

;-------------------------------------------------------------------------------
;
; Liste de prix de détail
;
FILE PDLIST_PRIX_DET DESIGNER

;-------------------------------------------------------------------------------
;
; 
;
FILE PDPROD_DIMENSION DESIGNER

;-------------------------------------------------------------------------------
;
; 
;
FILE PDPROD_DIM_RET DESIGNER

;-------------------------------------------------------------------------------
;
; Facture  
;
FILE PDPROD_FACTURE DESIGNER

;-------------------------------------------------------------------------------
;
; 
;
FILE PDREC_PROD_DIMEN DESIGNER

;-------------------------------------------------------------------------------
;
; 
;
FILE PDSOR_PROD_DIM DESIGNER

;-------------------------------------------------------------------------------
;
; Tranches 
;
FILE PDTRANCHE DESIGNER


;-------------------------------------------------------------------------------
;
;
; La procédure suivante valide si la cle est referee, si oui alors
; on indique une erreur a l'usager. Si la cle n'est pas refere dans aucune
; table alors la valeur de retour sera 1.
;
; Note: si le verbe ERROR est active dans la proceduure INITIALIZE, le
;       reste de la procedure ne sera pas effectue.
;
;
PROCEDURE INITIALIZE
BEGIN
  
  ;------------------------------------------------

  GET IFBLOC VIA   CIECLE,                    &
                   TGRCODGRA                  &
             USING CIECLE OF PDTYPE_GRANIT,   &
                   TGRCODGRA OF PDTYPE_GRANIT &
             OPTIONAL
  IF ACCESSOK
  THEN BEGIN
     LET T_FLGDEL = "1"
     RETURN
  END

  ;------------------------------------------------

  GET PDDIAGRAMME VIA   CIECLE,                    &
                        TGRCODGRA                  &
                  USING CIECLE OF PDTYPE_GRANIT,   &
                        TGRCODGRA OF PDTYPE_GRANIT &
                  OPTIONAL
  IF ACCESSOK
  THEN BEGIN
     LET T_FLGDEL = "1"
     RETURN
  END

  ;------------------------------------------------

  GET INBLOC VIA   CIECLE,                    &
                   TGRCODGRA                  &
             USING CIECLE OF PDTYPE_GRANIT,   &
                   TGRCODGRA OF PDTYPE_GRANIT &
             OPTIONAL
  IF ACCESSOK
  THEN BEGIN
     LET T_FLGDEL = "1"
     RETURN
  END

  ;------------------------------------------------

  GET PDBLOC VIA   CIECLE,                    &
                   TGRCODGRA                  &
             USING CIECLE OF PDTYPE_GRANIT,   &
                   TGRCODGRA OF PDTYPE_GRANIT &
             OPTIONAL
  IF ACCESSOK
  THEN BEGIN
     LET T_FLGDEL = "1"
     RETURN
  END

  ;------------------------------------------------

  GET PDCOMMEN_PROD VIA   CIECLE,                    &
                          TGRCODGRA                  &
                    USING CIECLE OF PDTYPE_GRANIT,   &
                          TGRCODGRA OF PDTYPE_GRANIT &
                    OPTIONAL
  IF ACCESSOK
  THEN BEGIN
     LET T_FLGDEL = "1"
     RETURN
  END

  ;------------------------------------------------

  GET PDDEB_DIAGRAMME VIA   CIECLE,                    &
                            TGRCODGRA                  &
                      USING CIECLE OF PDTYPE_GRANIT,   &
                            TGRCODGRA OF PDTYPE_GRANIT &
                      OPTIONAL
  IF ACCESSOK
  THEN BEGIN
     LET T_FLGDEL = "1"
     RETURN
  END

  ;------------------------------------------------

  GET PDDESC_CLASSE VIA   CIECLE,                    &
                          TGRCODGRA                  &
                    USING CIECLE OF PDTYPE_GRANIT,   &
                          TGRCODGRA OF PDTYPE_GRANIT &
                    OPTIONAL
  IF ACCESSOK
  THEN BEGIN
     LET T_FLGDEL = "1"
     RETURN
  END

  ;------------------------------------------------

  GET PDDESC_CLASSE VIA   CIECLE,                    &
                          TGRCODGRA                  &
                    USING CIECLE OF PDTYPE_GRANIT,   &
                          TGRCODGRA OF PDTYPE_GRANIT &
                    OPTIONAL
  IF ACCESSOK
  THEN BEGIN
     LET T_FLGDEL = "1"
     RETURN
  END

  ;------------------------------------------------

  GET PDDETAIL_C_I VIA   CIECLE,                    &
                         TGRCODGRA                  &
                   USING CIECLE OF PDTYPE_GRANIT,   &
                         TGRCODGRA OF PDTYPE_GRANIT &
                   OPTIONAL
  IF ACCESSOK
  THEN BEGIN
     LET T_FLGDEL = "1"
     RETURN
  END

  ;------------------------------------------------

  GET PDDET_BON_COMMAN VIA   CIECLE,                    &
                             TGRCODGRA                  &
                       USING CIECLE OF PDTYPE_GRANIT,   &
                             TGRCODGRA OF PDTYPE_GRANIT &
                       OPTIONAL
  IF ACCESSOK
  THEN BEGIN
     LET T_FLGDEL = "1"
     RETURN
  END

  ;------------------------------------------------

  GET PDDET_DEBITAGE VIA   CIECLE,                    &
                           TGRCODGRA                  &
                     USING CIECLE OF PDTYPE_GRANIT,   &
                           TGRCODGRA OF PDTYPE_GRANIT &
                     OPTIONAL
  IF ACCESSOK
  THEN BEGIN
     LET T_FLGDEL = "1"
     RETURN
  END

  ;------------------------------------------------

  GET PDDET_OPER_SURF VIA   CIECLE,                    &
                            TGRCODGRA                  &
                      USING CIECLE OF PDTYPE_GRANIT,   &
                            TGRCODGRA OF PDTYPE_GRANIT &
                      OPTIONAL
  IF ACCESSOK
  THEN BEGIN
     LET T_FLGDEL = "1"
     RETURN
  END

  ;------------------------------------------------

  GET PDEMBAL_PROD_DIM VIA   CIECLE,                    &
                             TGRCODGRA                  &
                       USING CIECLE OF PDTYPE_GRANIT,   &
                             TGRCODGRA OF PDTYPE_GRANIT &
                       OPTIONAL
  IF ACCESSOK
  THEN BEGIN
     LET T_FLGDEL = "1"
     RETURN
  END

  ;------------------------------------------------

  GET PDGRANIT_CLASSE VIA   CIECLE,                    &
                            TGRCODGRA                  &
                      USING CIECLE OF PDTYPE_GRANIT,   &
                            TGRCODGRA OF PDTYPE_GRANIT &
                      OPTIONAL
  IF ACCESSOK
  THEN BEGIN
     LET T_FLGDEL = "1"
     RETURN
  END

  ;------------------------------------------------

  GET PDLIST_PRIX_DET VIA   CIECLE,                    &
                            TGRCODGRA                  &
                      USING CIECLE OF PDTYPE_GRANIT,   &
                            TGRCODGRA OF PDTYPE_GRANIT &
                      OPTIONAL
  IF ACCESSOK
  THEN BEGIN
     LET T_FLGDEL = "1"
     RETURN
  END

  ;------------------------------------------------

  GET PDPROD_DIMENSION VIA   CIECLE,                    &
                             TGRCODGRA                  &
                       USING CIECLE OF PDTYPE_GRANIT,   &
                             TGRCODGRA OF PDTYPE_GRANIT &
                       OPTIONAL
  IF ACCESSOK
  THEN BEGIN
     LET T_FLGDEL = "1"
     RETURN
  END

  ;------------------------------------------------

  GET PDPROD_DIM_RET VIA   CIECLE,                    &
                           TGRCODGRA                  &
                     USING CIECLE OF PDTYPE_GRANIT,   &
                           TGRCODGRA OF PDTYPE_GRANIT &
                     OPTIONAL
  IF ACCESSOK
  THEN BEGIN
     LET T_FLGDEL = "1"
     RETURN
  END

  ;------------------------------------------------

  GET PDPROD_FACTURE VIA   CIECLE,                    &
                           TGRCODGRA                  &
                     USING CIECLE OF PDTYPE_GRANIT,   &
                           TGRCODGRA OF PDTYPE_GRANIT &
                     OPTIONAL
  IF ACCESSOK
  THEN BEGIN
     LET T_FLGDEL = "1"
     RETURN
  END

  ;------------------------------------------------

  GET PDREC_PROD_DIMEN VIA   CIECLE,                    &
                             TGRCODGRA                  &
                       USING CIECLE OF PDTYPE_GRANIT,   &
                             TGRCODGRA OF PDTYPE_GRANIT &
                       OPTIONAL
  IF ACCESSOK
  THEN BEGIN
     LET T_FLGDEL = "1"
     RETURN
  END

  ;------------------------------------------------

  GET PDSOR_PROD_DIM VIA   CIECLE,                    &
                           TGRCODGRA                  &
                     USING CIECLE OF PDTYPE_GRANIT,   &
                           TGRCODGRA OF PDTYPE_GRANIT &
                     OPTIONAL
  IF ACCESSOK
  THEN BEGIN
     LET T_FLGDEL = "1"
     RETURN
  END

  ;------------------------------------------------

  GET PDTRANCHE VIA   CIECLE,                    &
                      TGRCODGRA                  &
                USING CIECLE OF PDTYPE_GRANIT,   &
                      TGRCODGRA OF PDTYPE_GRANIT &
                OPTIONAL
  IF ACCESSOK
  THEN BEGIN
     LET T_FLGDEL = "1"
     RETURN
  END

  RETURN
END

BUILD

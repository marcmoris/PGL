;/T/ Maintenance des intervalles - Messages à produire
;
;/P/ Programmeur..: Nancy Marceau
;    Date Création: 15 avril 1994
;
;    Description..: Ce panorama permet de saisir les termes de paiement et de
;                   limite de crédit qui seront imprimés sur l'état de compte.
;
;-------------------------------------------------------------------------------

;/V/ Écran vérifier pour le passage à l'an 2000


SCREEN cr154a ACTIONBAR &
             MODE LABEL "" AT 2,80 &
             NOACTION FIELDMARK RETAIN STARTUP &
             HELP POPUP FROM 4,9 TO 20,72 &
             RECEIVING T_CIECLEMNU, &
                       T_CIENOM   , &
                       CRINTERVALLE

USE ustrasse NOLIST ; Transaction QUERY pour les sous-écrans

USE ussectmp NOLIST     ; Variable pour la sécurité
    "CR154A"             ; Nom de l'écran

USE cr154a.hlp ; Use servant à la documentation de l'écran


USE usactecr NOLIST     ; Actionbar standard dans les écrans pleine
                        ; page et sous-ecran

;-------------------------------------------------------------------------------
TEMPORARY T_CIECLEMNU CHARACTER SIZE 4  ; Compagnie du menu
TEMPORARY T_CIENOM    CHARACTER SIZE 40 ; Nom de la compagnie
;-------------------------------------------------------------------------------

FILE CRINTERVALLE MASTER  NOITEM NODELETE

;
; Paramètres pour la compagnie consolidée(holding)
;
FILE MCHOLDING REFERENCE
  ACCESS VIA CIENMC USING "1"

;-------------------------------------------------------------------------------
;
DEFINE DZ_CIECLE CHARACTER SIZE 4  = T_CIECLEMNU
DEFINE DZ_CIENOM CHARACTER SIZE 40 = CENTER( T_CIENOM )

;-------------------------------------------------------------------------------
;
USE usdrwecr NOLIST     ; Draw pour les écrans pleine page
USE ustitstd NOLIST     ; En-tête pour les écrans pleine page
USE ushilite NOLIST     ; Hilite pour tous les écrans

SKIP

TITLE &
@IF FRANCAIS
      " Messages à produire " &
@ELSE
      " %%% Messages à produire " &
@ENDIF
      CENTERED AT ,1


USE ustitoff NOLIST           ; Pour placer le TITLE OFF

;-------------------------------------------------------------------------------

SKIP 1
ALIGN (3,2,3)
TITLE &
@IF FRANCAIS
      "Message - Termes de paiement" &
@ELSE
      "%%%Message - Termes de paiement" &
@ENDIF
      AT ,3
SKIP
FIELD ITVCOMFRA1 OF CRINTERVALLE HIDDEN LABEL " "
FIELD ITVCOMFRA2 OF CRINTERVALLE HIDDEN LABEL " "
FIELD ITVCOMFRA3 OF CRINTERVALLE HIDDEN LABEL " "
FIELD ITVCOMFRA4 OF CRINTERVALLE HIDDEN LABEL " "
FIELD ITVCOMFRA5 OF CRINTERVALLE HIDDEN LABEL " "

SKIP 1
ALIGN (3,2,3)
TITLE &
@IF FRANCAIS
      "Message - Limite de crédit " &
@ELSE
      "%%%Message - Limite de crédit" &
@ENDIF
      AT ,3

SKIP
FIELD ITVLIMFRA1 OF CRINTERVALLE HIDDEN LABEL " "
FIELD ITVLIMFRA2 OF CRINTERVALLE HIDDEN LABEL " "
FIELD ITVLIMFRA3 OF CRINTERVALLE HIDDEN LABEL " "
FIELD ITVLIMFRA4 OF CRINTERVALLE HIDDEN LABEL " "
FIELD ITVLIMFRA5 OF CRINTERVALLE HIDDEN LABEL " "



;-------------------------------------------------------------------------------
;
; Valide la sécurité d'accès de l'écran.
;
;
PROCEDURE INITIALIZE
BEGIN
  USE ussececr NOLIST
END


;-------------------------------------------------------------------------------
;
;
; Valide si l'usager peut faire de la saisie.
;
;
PROCEDURE PREENTRY
BEGIN
  USE ussecent NOLIST
END


;-------------------------------------------------------------------------------
;
;
; Valide les traitements permis par écran et par usager.
;
;
PROCEDURE PREUPDATE
BEGIN
  ;
  ; Validation de la modification.
  ;
  IF     ALTEREDRECORD     OF CRINTERVALLE &
     AND NOT NEWRECORD     OF CRINTERVALLE &
     AND NOT DELETEDRECORD OF CRINTERVALLE &
     AND TZ_SECMOD = "0"
  THEN ERROR 2
END

BUILD
@IF FORMAT
xxxx                xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx                   x
***************************** Messages à produire ******************************
*                                                                              *
* Message - Termes de paiement                                                 *
* xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx       *
* xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx       *
* xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx       *
* xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx       *
* xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx       *
*                                                                              *
* Message - Limite de crédit                                                   *
* xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx       *
* xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx       *
* xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx       *
* xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx       *
* xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx       *
*                                                                              *
*                                                                              *
*                                                                              *
*                                                                              *
*                                                                              *
********************************************************************************
@ENDIF

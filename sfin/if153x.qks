;/T/ Lieu de chargement - Validation de la destruction
;
;/P/ Programmeur...: Francois Richard
;    Date creation.: 20 septembre 1999
;
;    Description...: Valide la destruction du lieu de chargement
;
;-------------------------------------------------------------------------------

SCREEN if153x NOMODE &
              ACTION LABEL " " &
              FROM 23,70 TO 23,80 &
              RECEIVING IFLIEU_CHARG , &
                        T_FLGDEL

;-------------------------------------------------------------------------------
;
TEMPORARY T_FLGDEL CHARACTER SIZE 1 ; Flag de retour.


;-------------------------------------------------------------------------------
;
; Lieu de chargement
;
FILE IFLIEU_CHARG   MASTER

;-------------------------------------------------------------------------------;
; Lot d'expedition
;
FILE IFLOT DESIGNER

;-------------------------------------------------------------------------------
;
;
; La procédure suivante valide si la cle est referee, si oui alors
; on indique une erreur a l'usager. Si la cle n'est pas refere dans aucune
; table alors la valeur de retour sera 1.
;
; Note: si le verbe ERROR est active dans la proceduure INITIALIZE, le
;       reste de la procedure ne sera pas effectue.
;
;
PROCEDURE INITIALIZE
BEGIN
  ;
  ; On verifie dans les lots d'expedition.
  ;
  GET IFLOT VIA   CIECLE,                 &
                  LICCLE                  &
            USING CIECLE OF IFLIEU_CHARG, &
                  LICCLE OF IFLIEU_CHARG  &       
            OPTIONAL
  IF ACCESSOK
  THEN LET T_FLGDEL = "1"
  RETURN
END

BUILD

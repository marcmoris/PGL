;/T/ Consultation Code de Module     XQBCLE
;
;/P/ Programmeur..: Chantal Martineau
;    Date Création: 18-septembre-1992
;
;    Description..: Permet de visionner et de choisir un Code de Module
;

;/V/ Écran vérifier pour le passage à l'an 2000

;
SCREEN gs111 NOMODE NOACTION FIELDMARK &
             FROM 11,40 TO 23,80 &
             ACTIVITIES FIND &
             RECEIVING T_XMOCOD

USE gs111.hlp NOLIST
USE ussectmp NOLIST
"GS111"

TEMPORARY T_XMOCOD    CHARACTER SIZE 4 RESET AT STARTUP

;-------------------------------------------------------------------------------
; Recherche de la langue de l'usager
;
FILE GSUSAGER REFERENCE
  ACCESS VIA USRCLE USING LOGONID


FILE GSMODULE PRIMARY OCCURS 11
 ACCESS VIA XMOCOD USING T_XMOCOD

DEFINE D_XMOTIT CHARACTER SIZE 20 = &
@IF FRANCAIS
        XMOTITFRA OF GSMODULE
@ELSE
          XMOTITANG OF GSMODULE
@ENDIF

USE ushilite NOLIST
USE usdrwfnd NOLIST

@IF FRANCAIS
 TITLE " Consultation des code Module " CENTERED AT 1,1
@ELSE
 TITLE " %%% " CENTERED AT 1,1
@ENDIF

USE ustitoff NOLIST

ALIGN(3,3,6)(,,13)

CLUSTER OCCURS WITH GSMODULE

FIELD XMOCOD    OF GSMODULE HIDDEN LABEL ">>"
FIELD D_XMOTIT DISPLAY

CLUSTER

;
;
; Valide la sécurité d'accès pour l'écran par son code.
;
;
PROCEDURE INITIALIZE
BEGIN
  USE ussececr NOLIST
END

PROCEDURE EXIT
BEGIN
  IF 0 <> IND(T_XMOCOD, "@")
  THEN LET T_XMOCOD = ""
END

PROCEDURE DESIGNER 1
BEGIN
  LET T_XMOCOD = XMOCOD OF GSMODULE
  RETURN
END

BUILD
